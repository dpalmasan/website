<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Resolviendo puzzles con algoritmos | Mr Dipalma‚Äôs Pub üç∫</title>
<meta name="generator" content="Jekyll v3.10.0">
<meta property="og:title" content="Resolviendo puzzles con algoritmos">
<meta name="author" content="dpalmasan">
<meta property="og:locale" content="en_US">
<meta name="description" content="Introducci√≥n">
<meta property="og:description" content="Introducci√≥n">
<link rel="canonical" href="https://dpalmasan.github.io/website/algorithms/ai/2024/06/29/sliding-puzzle.html">
<meta property="og:url" content="https://dpalmasan.github.io/website/algorithms/ai/2024/06/29/sliding-puzzle.html">
<meta property="og:site_name" content="Mr Dipalma‚Äôs Pub üç∫">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2024-06-29T22:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Resolviendo puzzles con algoritmos">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"dpalmasan"},"dateModified":"2024-06-29T22:00:00+00:00","datePublished":"2024-06-29T22:00:00+00:00","description":"Introducci√≥n","headline":"Resolviendo puzzles con algoritmos","mainEntityOfPage":{"@type":"WebPage","@id":"https://dpalmasan.github.io/website/algorithms/ai/2024/06/29/sliding-puzzle.html"},"url":"https://dpalmasan.github.io/website/algorithms/ai/2024/06/29/sliding-puzzle.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css">
    <link rel="stylesheet" href="/website/assets/css/style.css">
    <style type="text/css">
        div#disqus_thread iframe[sandbox] {
                max-height: 0px !important;
        }
    </style>
<link type="application/atom+xml" rel="alternate" href="https://dpalmasan.github.io/website/feed.xml" title="Mr Dipalma's Pub üç∫">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KHXBX5G1VP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){window.dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KHXBX5G1VP');
</script>

<script>MathJax={"tex":{"inlineMath":[["$","$"],["\\(","\\)"]],"displayMath":[["$$","$$"],["\\[","\\]"]]},"svg":{"fontCache":"global"}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<header class="site-header">

  <div class="wrapper">
<a class="site-title" rel="author" href="/website/">Mr Dipalma's Pub üç∫</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/website/about/">About</a></div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Resolviendo puzzles con algoritmos</h1>
    <p class="post-meta"><time class="dt-published" datetime="2024-06-29T22:00:00+00:00" itemprop="datePublished">
        Jun 29, 2024
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="introduccin">Introducci√≥n</h1>
<p>Era el a√±o 2014, y me hab√≠a titulado de ingenier√≠a civil el√©ctrica en la Universidad de Concepci√≥n (¬°grande mi alma mater!). Tambi√©n estaba en conflicto pues ven√≠a saliendo de una pr√°ctica profesional que no me gust√≥ para nada (√°rea de mantenci√≥n de una planta papelera). No fue una buena experiencia y estaba dudando si era eso a lo que quer√≠a dedicarme en mi vida profesional. Por otro lado, siempre me gustaron las clases te√≥ricas en ingenier√≠a, las simulaciones y meter algo de c√≥digo; debo confesar que mi √∫nica experiencia programando fue un curso de un semestre en el lenguaje <code>C</code>, y el resto <code>MATLAB</code>.</p>
<p>En ese mismo a√±o alguien publica en facebook que dar√°n un curso ‚Äúgratis‚Äù de electromagnetismo en la plataforma edX (que yo desconoc√≠a), as√≠ que me inscrib√≠; lamentablemente dicho curso ya no est√° disponible, era el curso <em>8.02x - MIT Physics II: Electricity and Magnetism</em> (pero si no saben la historia <strong>funaron</strong> al profesor Walter Lewin; por lo que el curso ya no est√° dispnible en edX; hay que reconocer que las clases eran espectaculares). Debo decir que disfrut√© bastante el curso y hasta me un√≠ a grupos de facebook y participaba activamente en los foros de edX ayudando y respondiendo dudas de los problemas; ¬øqu√© pas√≥? Me volv√≠ adicto a los cursos en l√≠nea y me puse a tomar varios cursos (m√°s relacionados a la ingenier√≠a el√©ctrica). Luego, gracias a una de las personas que estaba en uno de esos cursos de f√≠sica donde yo participaba, encontr√© el m√≠tico curso <a href="https://www.edx.org/learn/computer-science/harvard-university-cs50-s-introduction-to-computer-science" target="_blank" rel="noopener noreferrer">CS50x: Introduction to Computer Science de Harvard</a>. Fue dicho curso en donde aprend√≠ lo introductorio de las Ciencias de la Computaci√≥n y varios temas de programaci√≥n (en especial en C) que desconoc√≠a. Con mi ‚Äúexperiencia‚Äù programando, no pens√© que ser√≠a un curso desafiante, pero lo fue. Lo interesante es que cada tarea, ten√≠a dos versiones: La tarea para aprobar y la versi√≥n ‚Äúhacker‚Äù. Yo logr√© resolver las versiones ‚Äúhacker‚Äù de todos los problemas, excepto de uno: <a href="https://docs.cs50.net/problems/fifteen/fifteen.html" target="_blank" rel="noopener noreferrer">The game of fifteen</a>. No entrar√© en detalles, pero en esencia es un puzzle, la tarea era implementar el puzzle como un juego de terminal y la versi√≥n hacker era implementar un comando ‚ÄúGOD‚Äù que resolviera el puzzle de forma autom√°tica. Este post es mi redenci√≥n e intento de soluci√≥n de este problema.</p>
<h1 id="tldr">TL;DR</h1>
<p>El repositorio github del c√≥digo: <a href="https://github.com/dpalmasan/n2_1_puzzle" target="_blank" rel="noopener noreferrer">N^2 Puzzle Solver</a></p>
<h1 id="n2---1-puzzle">¬ø$N^2 - 1$ Puzzle?</h1>
<p>El puzzle de $N^2 - 1$ es una grilla de $N\times N$ que consiste en $N^2 - 1$ piezas que deben moverse a una configuraci√≥n objetivo, que consiste en tener todas las piezas ordenadas de forma ascendente, como se muestra en la figura 1.</p>
<div align="center">
<p><img src="https://gist.githubusercontent.com/dpalmasan/103d61ae06cfd3e7dee7888b391c1792/raw/1c42887ede70e37523fb601075a0e8cbf2d8a892/8puzzle-def.png" alt="puzzle-def"></p>
<p><em>Fig 1: Ejemplo de puzzle de 8-piezas y su configuraci√≥n objetivo.</em></p>
</div>
<p>Para mover las piezas, hay una restricci√≥n, estas deben deslizarse, por ello es que la grilla tiene un espacio libre como se muestra en la figura. Cabe destacar que no todas las configuraciones posibles tienen soluci√≥n (no vamos a demostrar esto hoy jeje), por lo tanto, para lo que sigue del art√≠culo, asumiremos que existe soluci√≥n para la configuraci√≥n inicial.</p>
<p>¬øC√≥mo buscar una soluci√≥n? Pensando que cada puzzle representa un <strong>estado</strong>, entonces al realizar cualquier <strong>acci√≥n</strong> habr√° un cambio de estado. Considerando m√∫ltiples posibles acciones, constru√≠mos lo que es un <strong>espacio de estados</strong> que se muestra en la figura 2.</p>
<div align="center">
<p><img src="https://gist.githubusercontent.com/dpalmasan/103d61ae06cfd3e7dee7888b391c1792/raw/1c42887ede70e37523fb601075a0e8cbf2d8a892/8puzzle-search.png" alt="puzzle-search"></p>
<p><em>Fig 2: Ejemplo de espacio de estados para puzzle de 8-piezas dada una configuraci√≥n inicial.</em></p>
</div>
<p>Y aqu√≠ viene la gran pregunta de todo problema de inteligencia artificial ¬øC√≥mo explorar el espacio de estados para encontrar una soluci√≥n? ¬øC√≥mo encontrar la ‚Äúmejor‚Äù soluci√≥n? Existen varios algoritmos de b√∫squeda, y para no alargar tanto este art√≠culo, prefiero no mencionar todos. Sin embargo, para tener una intuici√≥n, consideremos el problema de encontrar el camino menos costoso entre una ciudad y otra.</p>
<h2 id="problemas-de-bsqueda">Problemas de B√∫squeda</h2>
<p>En la figura 3, se muestra un diagrama de las ciudades <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>, <code>E</code>, <code>F</code>, <code>G</code>, <code>H</code>. Cada flecha indica la conexi√≥n entre las ciudades el valor en la flecha indica el costo de viajar entre dos ciudades. Si qusieramos encontrar el camino menos costoso entre <code>A</code> y <code>H</code>, tenemos que usar dicho costo para realizar la b√∫squeda.</p>
<div align="center">
<p><img src="https://gist.githubusercontent.com/dpalmasan/103d61ae06cfd3e7dee7888b391c1792/raw/b8153a6577ac00558bcf42e2f9580e2c3f3b4820/city-example.png" alt="puzzle-sol"></p>
<p><em>Fig 3: Ejemplo de camino menos costoso entre ciudades.</em></p>
</div>
<p>Comencemos:</p>
<ol>
<li>Estoy en la ciudad <code>A</code>, puedo hacer <code>(A-&gt;B, 1)</code>, <code>(A-&gt;C, 3)</code>, <code>(A-&gt;E, 3)</code>
</li>
<li>Me cuesta menos el primer camino, luego puedo hacer <code>(A-&gt;B-&gt;C, 2)</code>, <code>(A-&gt;B-&gt;H, 15)</code> <code>(A-&gt;C, 3)</code>, <code>(A-&gt;E, 3)</code>
</li>
<li>Ahora podr√≠a elegir <code>(A-&gt;B-&gt;C, 2)</code>, luego tengo las opciones: <code>(A-&gt;B-&gt;C-&gt;D, 8)</code>, <code>(A-&gt;B-&gt;H, 15)</code> <code>(A-&gt;C, 3)</code>, <code>(A-&gt;E, 3)</code>
</li>
<li>Ahora elijo <code>(A-&gt;C, 3)</code>, luego: <code>(A-&gt;C-&gt;D, 9)</code>, <code>(A-&gt;B-&gt;C-&gt;D, 8)</code>, <code>(A-&gt;B-&gt;H, 15)</code>, <code>(A-&gt;E, 3)</code>
</li>
<li>Ahora elijo <code>(A-&gt;E, 3)</code>, luego: <code>(A-&gt;E-&gt;F, 4)</code>, <code>(A-&gt;C-&gt;D, 9)</code>, <code>(A-&gt;B-&gt;C-&gt;D, 8)</code>, <code>(A-&gt;B-&gt;H, 15)</code>
</li>
<li>Elijo <code>(A-&gt;E-&gt;F, 4)</code>, luego: <code>(A-&gt;E-&gt;F-&gt;G, 5)</code>, <code>(A-&gt;C-&gt;D, 9)</code>, <code>(A-&gt;B-&gt;C-&gt;D, 8)</code>, <code>(A-&gt;B-&gt;H, 15)</code>
</li>
<li>Elijo <code>(A-&gt;E-&gt;F-&gt;G, 5)</code>, luego: <code>(A-&gt;E-&gt;F-&gt;G-&gt;H, 6)</code>, <code>(A-&gt;C-&gt;D, 9)</code>, <code>(A-&gt;B-&gt;C-&gt;D, 8)</code>, <code>(A-&gt;B-&gt;H, 15)</code>
</li>
<li>Finalmente llegu√© a <code>H</code> con el recorriendo el siguiente camino: <code>A-&gt;E-&gt;F-&gt;G-&gt;H</code>. Que es el menos costoso, cuyo coste es 6.</li>
</ol>
<p>Como podemos observar, este es un enfoque completamente automatizable. De hecho, el algoritmo que acabamos de hacer se conoce como <strong>b√∫squeda de costo uniforme</strong>. Como se pudo observar, esta b√∫squeda fue no informada, ya que reaccionabamos al costo de las acciones y s√≥lo utilizamos informaci√≥n vista (pasada). ¬øQu√© pasar√≠a si tuviesemos informaci√≥n adicional? Por ejemplo ¬øQu√© pasar√≠a si supieramos exactamente cu√°nto falta para llegar al destino? Supongamos que existe una funci√≥n $f$, tal que $f(s) = n$, donde $s$ es una ciudad y $n$ es el costo m√≠nimo que existe desde $s$ hasta <code>H</code>. Por ejemplo si $s = \text{B}$ entonces <code>f(B) = 15</code>. Intentemos nuevamente el algoritmo, con esta informaci√≥n:</p>
<ol>
<li>Estoy en la ciudad <code>A</code>, puedo hacer <code>(A-&gt;B, 1 + 15)</code>, <code>(A-&gt;C, 3 + 14)</code>, <code>(A-&gt;E, 3 + 3)</code>
</li>
<li>Tomo <code>(A-&gt;E, 3)</code>, puedo hacer: <code>(A-&gt;B, 1 + 15)</code>, <code>(A-&gt;C, 3 + 14)</code>, <code>(A-&gt;E-&gt;F, 4 + 2)</code>
</li>
<li>Tomo <code>(A-E-&gt;F, 4)</code>, puedo hacer: <code>(A-&gt;B, 1 + 15)</code>, <code>(A-&gt;C, 3 + 14)</code>, <code>(A-&gt;E-&gt;F-&gt;G, 5 + 1)</code>
</li>
<li>Tomo <code>(A-&gt;E-&gt;F-&gt;G, 5)</code> puedo hacer: <code>(A-&gt;B, 1 + 15)</code>, <code>(A-&gt;C, 3 + 14)</code>, <code>(A-&gt;E-&gt;F-&gt;G-&gt;H, 5)</code>
</li>
<li>Llego a <code>H</code> tomando <code>(A-&gt;E-&gt;F-&gt;G-&gt;H, 6)</code>, camino menos costoso: 6.</li>
</ol>
<p>La diferencia, es que teniendo informaci√≥n pude descartar soluciones y reducir el espacio de b√∫squeda. Este algoritmo se conoce como <code>A*</code> (o <em>A estrella</em>). Ahora, generalmente no conocemos esta funci√≥n $f$. Generalmente, podemos tener una aproximaci√≥n $h$. Si dicha aproximaci√≥n es tal que $h$ nunca sobre-estima $f$ (es decir, $h(s) \leq f(s)$) entonces se puede garantizar que la soluci√≥n a encontrar ser√° √≥ptima y la heur√≠stica se dice <strong>admisible</strong>. En caso contrario, no hay garant√≠as. Sin embargo, en la mayor√≠a de los casos en la pr√°ctica, un √≥ptimo local es suficiente y si $h$ ayuda a reducir el espacio de b√∫squeda entonces no es necesaria la admisibilidad.</p>
<p>Finalmente, cabe destacar que la heur√≠stica trivial $h(s) = 0$ es admisible, pero no entrega informaci√≥n, por lo que es equivalente a hacer b√∫squeda no informada. En general, m√°s cerca se encuentre $h$ de $f$, mayor es la cantidad de soluciones a descartar.</p>
<h2 id="definiendo-una-heurstica-admisible-para-el-problema-del-puzzle-de-8-piezas">Definiendo una heur√≠stica admisible para el problema del puzzle de 8 piezas</h2>
<p>Una estrategia para definir heur√≠sticas admisibles es ‚Äúrelajar‚Äù las restricciones del problema. Por ejemplo, en el caso del puzzle podemos considerar tomar cada pieza y ponerla en el lugar que le corresponda. En este caso, la heur√≠stica ser√≠a ‚Äún√∫mero de piezas fuera de lugar‚Äù, que ser√≠a equivalente a calcular la distancia Hamming. Otra heur√≠stica, podr√≠a ser deslizar las piezas por encima de las otras, en este caso la distancia ser√≠a el n√∫mero de ‚Äúdeslizamientos de cada pieza‚Äù, esta se conoce como distancia Manhattan, ya que dada una posici√≥n objetivo $(i_o, j_o)$ y una posici√≥n inicial $(i_i, j_i)$, entonces la distancia ser√≠a: $|i_o - i_i| + |j_o - j_i|$.</p>
<p>En este caso, la distancia Manhattan es una mejor Heur√≠stica que la distancia Hamming debido a que el costo estimado est√° m√°s cerca al costo real de la soluci√≥n, lo que permite podar m√°s el espacio de b√∫squeda. Asumiendo que tenemos una clase <code>State</code> que representa el estado del puzzle, una posible definici√≥n para la distancia Manhattan:</p>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">manhattan_distance</span><span class="p">(</span><span class="n">s1</span><span class="p">:</span> <span class="n">State</span><span class="p">,</span> <span class="n">s2</span><span class="p">:</span> <span class="n">State</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="s">"""Manhattan distance heuristic.

    Given s1 and s2, return the Manhattan distance between them.
    In this case if i1, j1 are coordinates of s1 and i2, j2 are
    coordinates of s2, the manhattan distance is computed by
    `abs(i1 - i2) + abs(j1 - j2)`.
    """</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">s1</span><span class="p">.</span><span class="n">puzzle</span><span class="p">.</span><span class="n">board</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">tile</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
            <span class="n">i1</span><span class="p">,</span> <span class="n">j1</span> <span class="o">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">puzzle</span><span class="p">.</span><span class="n">tile_pos</span><span class="p">[</span><span class="n">tile</span><span class="p">]</span>
            <span class="n">i2</span><span class="p">,</span> <span class="n">j2</span> <span class="o">=</span> <span class="n">s2</span><span class="p">.</span><span class="n">puzzle</span><span class="p">.</span><span class="n">tile_pos</span><span class="p">[</span><span class="n">tile</span><span class="p">]</span>
            <span class="n">distance</span> <span class="o">+=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">i1</span> <span class="o">-</span> <span class="n">i2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">j1</span> <span class="o">-</span> <span class="n">j2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">distance</span>
</code></pre></div></div>
<p>Y el algoritmo <code>A*</code> se ver√≠a como:</p>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">a_star_puzzle</span><span class="p">(</span><span class="n">init_state</span><span class="p">,</span> <span class="n">goal_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Direction</span><span class="p">]:</span>
    <span class="s">"""A* search algorithm for the 8-puzzle problem.

    In theory it supports any size of the board,
    but in practice it only works for 3x3 boards. The reason
    being that the search space increases exponentially with the size
    of the board.
    """</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">PriorityQueue</span><span class="p">()</span>
    <span class="n">queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span>
        <span class="n">init_state</span><span class="p">,</span> <span class="n">manhattan_distance</span><span class="p">(</span><span class="n">init_state</span><span class="p">,</span> <span class="n">goal_state</span><span class="p">)</span> <span class="o">+</span> <span class="n">init_state</span><span class="p">.</span><span class="n">depth</span>
    <span class="p">)</span>
    <span class="n">visited</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">plan</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Direction</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">queue</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">():</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">visited</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="n">goal_state</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">state</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">state</span><span class="p">.</span><span class="n">action</span><span class="p">:</span>
                    <span class="n">plan</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">state</span><span class="p">.</span><span class="n">action</span><span class="p">)</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">state</span><span class="p">.</span><span class="n">parent</span>
            <span class="k">break</span>
        <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">state</span><span class="p">.</span><span class="n">neighbors</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                <span class="n">queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span>
                    <span class="n">neighbor</span><span class="p">,</span> <span class="n">manhattan_distance</span><span class="p">(</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">goal_state</span><span class="p">)</span> <span class="o">+</span> <span class="n">neighbor</span><span class="p">.</span><span class="n">depth</span>
                <span class="p">)</span>
    <span class="k">return</span> <span class="n">plan</span>
</code></pre></div></div>
<p>La cola de prioridades o <em>Priority Queue</em> es una estructura de datos que en base a una funci√≥n de costo, permite obtener elementos de forma ordenada haciendo orden en las inserciones de forma eficiente. Esta estructura de datos est√° basada en un <a href="https://en.wikipedia.org/wiki/Binary_heap" target="_blank" rel="noopener noreferrer">Binary Heap</a>.</p>
<p>El plan de pasos para llegar a la soluci√≥n dado el estado inicial de ejemplo en la figura 2, se muestra a continuaci√≥n:</p>
<div align="center">
<p><img src="https://gist.githubusercontent.com/dpalmasan/103d61ae06cfd3e7dee7888b391c1792/raw/1c42887ede70e37523fb601075a0e8cbf2d8a892/8puzzle-sol.gif" alt="puzzle-sol"></p>
<p><em>Fig 4: Soluci√≥n y pasos para ejemplo del puzzle de las 8 piezas.</em></p>
</div>
<h2 id="buscando-soluciones-para-puzzles-ms-grandes">Buscando soluciones para puzzles m√°s grandes</h2>
<p>Hasta ac√° todo bien, ¬øcu√°l es el problema? Al crecer $N$ el espacio de b√∫squeda crece en √≥rdenes de magnitudes. Por ejemplo el puzzle de las 8 piezas tiene $9! / 2 = 181440$ estados alcanzables. El puzzle de las 15 piezas tiene 1.3 trilliones de estados posibles, el puzzle de las 24 piezas ($5 \times 5$) tiene $10^25$ estados posibles‚Ä¶</p>
<p>Si no nos importa esperar unas cuantas horas, o cientos de a√±os para encontrar una soluci√≥n, entonces no hay problema (y eso, asumiendo que se tiene la RAM disponible para hacerlo). En caso contrario, hay que buscar otro tipo de soluciones, aunque sean sub-√≥ptimas. En algunos casos <em>tener una soluci√≥n es mejor que no tener ninguna</em>.</p>
<p>En estos casos, se puede aplicar el principio de <em>Divide y vencer√°s</em>, en el cual un problema se puede descomponer en sub-problemas, y la soluci√≥n de estos problemas se puede agregar de manera tal de resolver el problema inicial. El paper <a href="https://ianparberry.com/pubs/saml.pdf" target="_blank" rel="noopener noreferrer">A Real-Time Algorithm for the $(n^2 ‚àí 1)$-Puzzle</a> implementa un enfoque como el descrito. El algortimo es simple:</p>
<ol>
<li>
<strong>Procedimiento</strong> $\text{Resolver Puzzle}(n)$
<ol>
<li>Si $n = 3$ resolver por fuerza bruta
<ul>
<li>En caso contrario usar algoritmo voraz para poner las filas y columnas en su posici√≥n correcta</li>
</ul>
</li>
<li>$\text{Resolver Puzzle}(n - 1)$</li>
</ol>
</li>
</ol>
<div align="center">
<p><img src="https://gist.githubusercontent.com/dpalmasan/103d61ae06cfd3e7dee7888b391c1792/raw/649b07262fc51591de77f06b4c2aa561fe317496/greedy-n8-1.png" alt="puzzle-greedy-1"></p>
<p><img src="https://gist.githubusercontent.com/dpalmasan/103d61ae06cfd3e7dee7888b391c1792/raw/649b07262fc51591de77f06b4c2aa561fe317496/greedy-n8-2.png" alt="puzzle-greedy-2"></p>
<p><em>Fig 5: Muestra del algoritmo voraz para poner las filas y columnas en su lugar.</em></p>
</div>
<p>Esto se hace recursivamente hasta llegar al punto en que $n = 3$. Luego, aplicamos el algoritmo <code>A*</code> y resolvemos el resto del puzzle.</p>
<h2 id="repositorio-github">Repositorio GitHub</h2>
<p>El c√≥digo completo lo dejo en este repositorio github: <a href="https://github.com/dpalmasan/n2_1_puzzle" target="_blank" rel="noopener noreferrer">N^2 Puzzle Solver</a>.</p>
<h1 id="reflexiones-finales">Reflexiones Finales</h1>
<ul>
<li>Plantear un problema de b√∫squeda no es complicado, pero encontrar una soluci√≥n lo es. Encontrar una soluci√≥n √≥ptima lo es mucho m√°s, a veces imposible o impr√°ctico.</li>
<li>Una heur√≠stica es una aproximaci√≥n de una funci√≥n desconocida, que puede utilizarse para realizar <strong>b√∫squeda informada</strong> y de esta forma reducir el espacio de b√∫squeda</li>
<li>Resolvimos en problema del $N^2 - 1$ puzzle de manera sub-√≥ptima para $n &gt; 3$ y √≥ptima en el caso de $n = 3$.</li>
</ul>
<p>Como nota aparte, en su tiempo tom√© aproximadamente 60 <em>MOOCs</em> (<em>Massive Open Online Courses</em>); m√°s que todos los cursos que tom√© en ingenier√≠a‚Ä¶ Si me preguntan cu√°les fueron mis favoritos:</p>
<ol>
<li><a href="https://www.edx.org/learn/computer-science/harvard-university-cs50-s-introduction-to-computer-science" target="_blank" rel="noopener noreferrer">CS50‚Äôs Introduction to Computer Science</a></li>
<li><a href="https://work.caltech.edu/telecourse.html" target="_blank" rel="noopener noreferrer">Learning from Data</a></li>
<li><a href="https://www.edx.org/learn/magnetism/rice-university-electricity-and-magnetism-part-1" target="_blank" rel="noopener noreferrer">Electricity and Magnetism</a></li>
<li><a href="https://online.princeton.edu/algorithms-part-i" target="_blank" rel="noopener noreferrer">Algorithms Part 1</a></li>
</ol>
<p>No soy mucho de estudiar algo directamente como por ejemplo frameworks, etc‚Ä¶ prefiero los libros MIL veces para entender los fundamentos y leer la documentaci√≥n y papers para entender el uso. Por ello, no me gustan las plataformas como platzi, Udemy, etc‚Ä¶ Me gusta mucho m√°s la teor√≠a abierta y a veces la que al parecer no tiene mucho uso, hasta que realmente te toca resolver un problema que hay que pensar.</p>

  </div>
<div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = '';
      this.page.identifier = 'https://dpalmasan.github.io/website/algorithms/ai/2024/06/29/sliding-puzzle.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://dpalmasan.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow noopener noreferrer" target="_blank">comments powered by Disqus.</a>
</noscript>
<a class="u-url" href="/website/algorithms/ai/2024/06/29/sliding-puzzle.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/website/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="https://dpalmasan.github.io/website/feed.xml">
            <svg class="svg-icon orange">
              <path d="M12.8 16C12.8 8.978 7.022 3.2 0 3.2V0c8.777 0 16 7.223 16 16h-3.2zM2.194
                11.61c1.21 0 2.195.985 2.195 2.196 0 1.21-.99 2.194-2.2 2.194C.98 16 0 15.017 0
                13.806c0-1.21.983-2.195 2.194-2.195zM10.606
                16h-3.11c0-4.113-3.383-7.497-7.496-7.497v-3.11c5.818 0 10.606 4.79 10.606 10.607z"></path>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">dpalmasan</li>
          
        </ul>
      </div>
      <div class="footer-col">
        <p>Este es un blog donde compartir√© un poco sobre m√≠ y mis experiencias en el mundo tecnol√≥gico...</p>
      </div>
    </div>

    <div class="social-links">
<ul class="social-media-list">
<li>
    <a rel="me noopener noreferrer" href="https://www.linkedin.com/in/dpalmasan/" target="_blank" title="Mi perfil en Linkedin">
      <span class="grey fa-brands fa-linkedin fa-lg"></span>
    </a>
  </li>
<li>
    <a rel="me noopener noreferrer" href="https://www.github.com/dpalmasan" target="_blank" title="Mi Github">
      <span class="grey fa-brands fa-github fa-lg"></span>
    </a>
  </li>
<li>
    <a rel="me noopener noreferrer" href="https://scholar.google.com/citations?user=Y5PN_1AAAAAJ&hl=en" target="_blank" title="Mi Google Scholar">
      <span class="grey fa-brands fa-google-scholar fa-lg"></span>
    </a>
  </li>
<li>
    <a rel="me noopener noreferrer" href="https://stackoverflow.com/users/4051219/dpalma" target="_blank" title="Mis preguntas en SO LOL!">
      <span class="grey fa-brands fa-stack-overflow fa-lg"></span>
    </a>
  </li>
</ul>
</div>

  </div>

</footer>

</body>

</html>
